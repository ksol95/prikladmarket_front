(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function y(l){document.documentElement.className="",document.documentElement.classList.add(`theme-${l}`),localStorage.setItem("theme",l)}(function(){const t=localStorage.getItem("theme");t&&y(t)})();document.addEventListener("DOMContentLoaded",()=>{const l=document.documentElement,t=document.querySelectorAll(".theme-menu__button");function e(s){t.forEach(r=>{r.getAttribute("data-theme")===s?r.setAttribute("disabled",!0):r.removeAttribute("disabled")})}[...l.classList].includes("theme-light")?e("light"):[...l.classList].includes("theme-dark")||window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches&&e("light"),t.forEach(s=>{s.onclick=()=>{y(s.getAttribute("data-theme")),e(s.getAttribute("data-theme"))}})});function O(l){const t=l.currentTarget;Math.abs(l.deltaY)>Math.abs(l.deltaX)&&(l.preventDefault(),t.scrollLeft+=l.deltaY*1)}const A=document.querySelectorAll(".scrolling");A.forEach(l=>{l.addEventListener("wheel",O,{passive:!1})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".scrolling-slider").forEach(t=>{const e=t.querySelector(".products-grid__list");if(!e)return;e.classList.add("scrolling");let s=t.querySelector(".products-grid__arrow--left"),r=t.querySelector(".products-grid__arrow--right");s||(s=document.createElement("button"),s.type="button",s.className="products-grid__arrow products-grid__arrow--left",s.setAttribute("aria-label","Прокрутить влево"),t.prepend(s)),r||(r=document.createElement("button"),r.type="button",r.className="products-grid__arrow products-grid__arrow--right",r.setAttribute("aria-label","Прокрутить вправо"),t.append(r));const o=()=>{e.scrollWidth>e.clientWidth?(t.classList.add("show-arrows"),e.scrollLeft>0?t.classList.add("show-left-arrow"):t.classList.remove("show-left-arrow"),e.scrollLeft+e.clientWidth+1<e.scrollWidth?t.classList.add("show-right-arrow"):t.classList.remove("show-right-arrow")):t.classList.remove("show-arrows","show-left-arrow","show-right-arrow")};o();const i=new ResizeObserver(o);i.observe(t),i.observe(e),e.addEventListener("scroll",o);const w=n=>{const a=e.querySelectorAll(".products-grid__card");if(a.length===0)return;const v=e.clientWidth,f=e.scrollLeft;let h=-1,L=-1;for(let c=0;c<a.length;c++){const u=a[c].getBoundingClientRect(),g=e.getBoundingClientRect(),p=u.left-g.left+f,E=p+u.width;p<f+v&&E>f&&(h===-1&&(h=c),L=c)}h===-1&&(h=0,L=0);let m;if(n==="right"){const c=Math.min(L+1,a.length-1),d=a[c];if(d){const u=d.getBoundingClientRect(),g=e.getBoundingClientRect();m=u.left-g.left+f}else m=e.scrollWidth-v}else{const c=Math.max(h-1,0),d=a[c];if(d){const u=d.getBoundingClientRect(),g=e.getBoundingClientRect();m=u.left-g.left+f}else m=0}e.scrollTo({left:m,behavior:"smooth"}),setTimeout(o,300)};s.addEventListener("click",n=>{n.preventDefault(),w("left")}),r.addEventListener("click",n=>{n.preventDefault(),w("right")}),t.addEventListener("keydown",n=>{n.key==="ArrowLeft"?(n.preventDefault(),w("left")):n.key==="ArrowRight"&&(n.preventDefault(),w("right"))})})});const _=document.querySelectorAll(".hideOnParentOverflow-b"),S=document.querySelectorAll(".hideOnParentOverflow-i"),b=()=>{_.forEach((l,t)=>{const e=l.parentElement;if(l.classList.remove("visually-hidden"),!e){console.warn(`Элемент ${t} (.hideOnParentOverflow-b) не имеет родителя.`);return}e.scrollHeight>e.clientHeight?l.classList.add("visually-hidden"):l.classList.remove("visually-hidden")}),S.forEach((l,t)=>{const e=l.parentElement;if(l.classList.remove("visually-hidden"),!e){console.warn(`Элемент ${t} (.hideOnParentOverflow-i) не имеет родителя.`);return}e.scrollWidth>e.clientWidth?l.classList.add("visually-hidden"):l.classList.remove("visually-hidden")})};document.addEventListener("DOMContentLoaded",()=>{b()});window.addEventListener("resize",()=>{b()});
