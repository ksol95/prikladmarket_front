(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(t){if(t.ep)return;t.ep=!0;const l=e(t);fetch(t.href,l)}})();function y(s){document.documentElement.className="",document.documentElement.classList.add(`theme-${s}`),localStorage.setItem("theme",s)}(function(){const r=localStorage.getItem("theme");r&&y(r)})();document.addEventListener("DOMContentLoaded",()=>{const s=document.documentElement,r=document.querySelectorAll(".theme-menu__button");function e(n){r.forEach(t=>{t.getAttribute("data-theme")===n?t.setAttribute("disabled",!0):t.removeAttribute("disabled")})}[...s.classList].includes("theme-light")?e("light"):[...s.classList].includes("theme-dark")||window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches&&e("light"),r.forEach(n=>{n.onclick=()=>{y(n.getAttribute("data-theme")),e(n.getAttribute("data-theme"))}})});const _=()=>{document.querySelectorAll("nav.breadcrumb").forEach((r,e)=>{const n=r.querySelector(".breadcrumb__list");if(!n){console.warn(`  Список .breadcrumb__list не найден в навигации ${e+1}`);return}const t=n.querySelectorAll(".breadcrumb__item:not(.breadcrumb__item--ellipsis)");if(t.length<3)return;let l=n.querySelector(".breadcrumb__item--ellipsis");l||(l=document.createElement("li"),l.className="breadcrumb__item breadcrumb__item--ellipsis",l.innerHTML='<span class="breadcrumb__item-link">...</span>');const a=()=>n.scrollWidth>n.clientWidth;if((()=>{t.forEach(d=>{d.classList.remove("hidden")}),l&&l.parentNode&&l.remove()})(),!a())return;let o=1,i=t.length-2;for(;a()&&o<=i;){if(o<=i){const d=t[o],c=t[i];d&&!d.classList.contains("hidden")&&d.classList.add("hidden"),c&&c!==d&&!c.classList.contains("hidden")&&c.classList.add("hidden"),l.parentNode||n.insertBefore(l,t[1])}o++,i--}})};document.addEventListener("DOMContentLoaded",()=>{_()});let v;window.addEventListener("resize",()=>{clearTimeout(v),v=setTimeout(()=>{_()},150)});function A(s){const r=s.currentTarget;Math.abs(s.deltaY)>Math.abs(s.deltaX)&&(s.preventDefault(),r.scrollLeft+=s.deltaY*1)}const S=document.querySelectorAll(".scrolling");S.forEach(s=>{s.addEventListener("wheel",A,{passive:!1})});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".scrolling-slider").forEach(r=>{const e=r.querySelector(".products-grid__list");if(!e)return;e.classList.add("scrolling");let n=r.querySelector(".products-grid__arrow--left"),t=r.querySelector(".products-grid__arrow--right");n||(n=document.createElement("button"),n.type="button",n.className="products-grid__arrow products-grid__arrow--left",n.setAttribute("aria-label","Прокрутить влево"),r.prepend(n)),t||(t=document.createElement("button"),t.type="button",t.className="products-grid__arrow products-grid__arrow--right",t.setAttribute("aria-label","Прокрутить вправо"),r.append(t));const l=()=>{e.scrollWidth>e.clientWidth?(r.classList.add("show-arrows"),e.scrollLeft>0?r.classList.add("show-left-arrow"):r.classList.remove("show-left-arrow"),e.scrollLeft+e.clientWidth+1<e.scrollWidth?r.classList.add("show-right-arrow"):r.classList.remove("show-right-arrow")):r.classList.remove("show-arrows","show-left-arrow","show-right-arrow")};l();const a=new ResizeObserver(l);a.observe(r),a.observe(e),e.addEventListener("scroll",l);const m=o=>{const i=e.querySelectorAll(".products-grid__card");if(i.length===0)return;const d=e.clientWidth,c=e.scrollLeft;let b=-1,w=-1;for(let u=0;u<i.length;u++){const h=i[u].getBoundingClientRect(),L=e.getBoundingClientRect(),p=h.left-L.left+c,O=p+h.width;p<c+d&&O>c&&(b===-1&&(b=u),w=u)}b===-1&&(b=0,w=0);let g;if(o==="right"){const u=Math.min(w+1,i.length-1),f=i[u];if(f){const h=f.getBoundingClientRect(),L=e.getBoundingClientRect();g=h.left-L.left+c}else g=e.scrollWidth-d}else{const u=Math.max(b-1,0),f=i[u];if(f){const h=f.getBoundingClientRect(),L=e.getBoundingClientRect();g=h.left-L.left+c}else g=0}e.scrollTo({left:g,behavior:"smooth"}),setTimeout(l,300)};n.addEventListener("click",o=>{o.preventDefault(),m("left")}),t.addEventListener("click",o=>{o.preventDefault(),m("right")}),r.addEventListener("keydown",o=>{o.key==="ArrowLeft"?(o.preventDefault(),m("left")):o.key==="ArrowRight"&&(o.preventDefault(),m("right"))})})});const C=document.querySelectorAll(".hideOnParentOverflow-b"),I=document.querySelectorAll(".hideOnParentOverflow-i"),E=()=>{C.forEach((s,r)=>{const e=s.parentElement;if(s.classList.remove("visually-hidden"),!e){console.warn(`Элемент ${r} (.hideOnParentOverflow-b) не имеет родителя.`);return}e.scrollHeight>e.clientHeight?s.classList.add("visually-hidden"):s.classList.remove("visually-hidden")}),I.forEach((s,r)=>{const e=s.parentElement;if(s.classList.remove("visually-hidden"),!e){console.warn(`Элемент ${r} (.hideOnParentOverflow-i) не имеет родителя.`);return}e.scrollWidth>e.clientWidth?s.classList.add("visually-hidden"):s.classList.remove("visually-hidden")})};document.addEventListener("DOMContentLoaded",()=>{E()});window.addEventListener("resize",()=>{E()});
